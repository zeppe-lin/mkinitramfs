=pod

=encoding UTF-8

=head1 mkinitramfs - tiny initramfs generator

mkinitramfs is a tool used to create a Linux boot image (initramfs).

This mkinitramfs distribution is a fork of illiliti's tinyramfs as of
commit 8abfcc9 (Fri May 21 2021).  The man pages have been completely
rewritten.  Added I<smdev> hook.  I<LUKS> hook have been modified to
ask the password if header/key-file is not defined.  Added I<resume>
hook to resume machines from hibernation.  Added a possibility to copy
F<modprobe.d> configuration files.  Added bash completion.

The original sources can be downloaded from:

=over

=item git

  git clone https://github.com/illiliti/tinyramfs
  git checkout 8abfcc9

=item http

  https://github.com/illiliti/tinyramfs/archive/8abfcc9/tinyramfs-8abfcc9.zip

=back

=head2 Features

=over

=item * no "local"s, no bashisms, only POSIX shell

=item * portable, no distro specific

=item * easy to use configuration

=item * build time and init time hooks

=item * LUKS (detached header, key, password), LVM

=item * smdev, mdev, mdevd, eudev, systemd-udevd

=back

=head2 Dependencies

=head3 Build time

=over

=item *

L<make(1p)|https://www.mankier.com/1p/make>,
L<sh(1p)|https://www.mankier.com/1p/sh>,
and standard POSIX utilities like
L<sed(1p)|https://www.mankier.com/1p/sed>,
L<mkdir(1p)|https://www.mankier.com/1p/mkdir>,
L<cp(1p)|https://www.mankier.com/1p/cp>,
L<rm(1p)|https://www.mankier.com/1p/rm>

=item *

L<podchecker(1pm)|https://www.mankier.com/1/podchecker> and
L<pod2man(1pm)|https://www.mankier.com/1/pod2man> from perl
distribution

=back

=head3 Runtime

=over

=item *

L<sh(1p)|https://www.mankier.com/1p/sh> and standard POSIX utilities

=item *

L<switch_root(8)|https://www.mankier.com/8/switch_root>,
L<mount(8)|https://www.mankier.com/8/mount>,
L<cpio(1)|https://www.mankier.com/1/cpio>

=item *

L<ldd(1)|https://www.mankier.com/1/ldd>
is optional, required for copying binary dependencies

=item *

L<strip(1p)|https://www.mankier.com/1p/strip>
is optional, required for reducing image size by stripping binaries

=item *

L<blkid(8)|https://www.mankier.com/8/blkid>
is optional, required for I<UUID>, I<LABEL>, I<PARTUUID> support

=item *

L<smdev|https://https://core.suckless.org/smdev/> OR
L<mdev|https://git.busybox.net/busybox/plain/docs/mdev.txt> OR
L<mdevd|https://skarnet.org/software/mdevd/> OR
L<eudev|https://github.com/eudev-project/eudev> OR
L<systemd-udevd|https://github.com/systemd/systemd/tree/main/src/udev> OR
L<CONFIG_UEVENT_HELPER|https://cateee.net/lkddb/web-lkddb/UEVENT_HELPER.html>
is/are optional, required for modular kernel, C</dev/mapper/*> and
C</dev/disk/*>.

=item *

L<lvm(8)|https://www.mankier.com/8/lvm>
is optional, required for LVM support

=item *

L<cryptsetup(8)|https://www.mankier.com/8/cryptsetup>
is optional, required for LUKS support

=item *

busybox' loadkmap is optional, required for keymap support

=item *

kmod OR (busybox' modutils + C<patches/modprobe-kernel-version.patch>)
is/are optional, not required for monolithic kernel

=back

=head2 Install

The shell commands C<make; make install> should build and install this
package.  See F<Makefile> for configuration parameters.

=head2 Usage

To use mkinitramfs, read
L<mkinitramfs.config(5)|https://zeppe-lin.github.io/mkinitramfs.config.5.html>
and setup F</etc/mkinitramfs/config> file conform your needs.
Next, run the following command:

  (as root) # mkinitramfs -o "/boot/initramfs-$(uname -r).img"

Then update your bootloader config (i.e. grub):

  (as root) # grub-mkconfig -o /boot/grub/grub.cfg

And reboot.

=head2 Credits

=over

=item illiliti <https://github.com/illiliti>

=item E5ten <https://github.com/E5ten>

=item dylanaraps <https://github.com/dylanaraps>

=back

You can donate if you like this project to the original author:
illilliti: (BTC) B<1BwrcsgtWZeLVvNeEQSg4A28a3yrGN3FpK>

=head2 License and Copyright

mkinitramfs is licensed through the GNU General Public License v3 or
later <https://gnu.org/licenses/gpl.html>.
Read the COPYING file for copying conditions.
Read the COPYRIGHT file for copyright notices.

=cut

# vim:sw=2:ts=2:sts=2:et:cc=72:tw=70
# End of file.
