# See COPYING and COPYRIGHT files for corresponding information.

=pod

=head1 NAME

mkinitramfs - create an initial ramdisk environment

=head1 SYNOPSIS

B<mkinitramfs> [I<OPTION>]...

=head1 DESCRIPTION

B<mkinitramfs> creates an initial ramdisk environment for booting the
Linux kernel.  The initial ramdisk is in essence a very small
environment (early userspace) which loads various kernel modules and
sets up necessary things before handing over control to init.  This
makes it possible to have, for example, encrypted root file systems
and root file systems on a software RAID array.  B<mkinitramfs> can be
extended with custom hooks.

=head1 OPTIONS

Mandatory arguments to long options are mandatory for short options
too.

=over 8

=item B<-o>, B<--output>=I<FILE>

Specify output location where initramfs image will be stored.

=item B<-c>, B<--config>=I<FILE>

Specify config location.

Default: F</etc/mkinitramfs/config>.

=item B<-k>, B<--kernel>=I<VERSION>

Specify kernel version.  Useful for bootstrapping future system with
modular kernel.

Default: C<uname -r>.

=item B<-m>, B<--modules>=I<PATH>

Specify directory where modules stored.

Default: F</lib/modules>.

This option has no effect if B<monolith> or B<hostonly> were enabled
in config.

=item B<-H>, B<--hooks>=I<PATH>

Specify additional hooks location.

Default: F</usr/share/mkinitramfs/hooks>, F</etc/mkinitramfs/hooks>.

=item B<-D>, B<--helper>=I<FILE>

Specify location to device helper.

Default: F</usr/share/mkinitramfs/device-helper>.

=item B<-I>, B<--init>=I<FILE>

Specify location to init script.

Default: F</usr/share/mkinitramfs/init>.

=item B<-d>, B<--debug>

Enable debug mode.  Useful for reporting bugs in build stage.

=item B<-f>, B<--force>

Forcefully overwrite initramfs image.

=back

=head1 NOTES

If you have modular kernel and you use B<busybox' modprobe> to handle
modules, you must note that B<busybox' modprobe> doesn't have ability
to install soft dependencies of modules (i.e. F<modules.softdep>).
You must install them yourself using hooks.  See
L<mkinitramfs.hooks(7)> how to do it.

=head1 SEE ALSO

L<mkinitramfs.config(5)>, L<mkinitramfs.cmdline(7)>,
L<mkinitramfs.hooks(7)>

=over

=item Kernel subsystem documentation:

L<Filesystems in the Linux kernel: Ramfs, rootfs and initramfs|https://docs.kernel.org/filesystems/ramfs-rootfs-initramfs.html>.

=item Linux kernel user's and administrator's guide:

L<Using the initial RAM disk (initrd)|https://docs.kernel.org/admin-guide/initrd.html>.

=back

=cut

# vim:sw=2:ts=2:sts=2:et:cc=72:tw=70
# End of file.
